---
title: å…³äºæˆ‘åœ¨ vuepress ä¸­å¼•å…¥ tailwindcss çš„ä¸¤ä¸‰äº‹
subtitle: è¿˜é‡åˆ°äº†ç‚¹å„¿ç ´åæ€§æ›´æ–°
cover: https://images.pexels.com/photos/1279813/pexels-photo-1279813.jpeg?cs=srgb&dl=pexels-magda-ehlers-1279813.jpg&fm=jpg
group: VUEPRESS
tags:
  - vuepress
  - tailwindcss
  - css
  - å‰ç«¯
  - vitejs
---

## ä¸€åˆ‡çš„å¼€å§‹

ä¸€åˆ‡å¼€å§‹äºæˆ‘æƒ³ã€Œæ­å»ºä¸€ä¸ªæŠ€æœ¯åšå®¢ã€çš„æƒ³æ³•ï¼Œäºæ˜¯å‰æ€åæƒ³ï¼Œé¡ºä¾¿å°è¯•äº†è®¸å¤šæŠ€æœ¯ç»„åˆåï¼Œæœ€ç»ˆé€‰æ‹©äº†ä½¿ç”¨vuepressã€‚

ä¸è¿‡æœ€å¼€å§‹å…¶å®æˆ‘å¹¶æ²¡æœ‰æ‰“ç®—ç›´æ¥ä½¿ç”¨vuepressï¼Œè€Œæ˜¯æƒ³ä½¿ç”¨vitepress^[[https://vitepress.vuejs.org/](https://vitepress.vuejs.org/)]ã€‚ç©¶å…¶åŸå› ï¼Œä¸»è¦æ˜¯å› ä¸ºvuepressæ˜¯ä½¿ç”¨webpack-dev-serverï¼Œè€Œæˆ‘æ›´æƒ³å¤šæ¥è§¦æ¥è§¦vitejsã€‚

ç„¶åï¼Œæˆ‘å°±åœ¨vitepressçš„æ–‡æ¡£é¡µä¸­çœ‹åˆ°äº†å¦‚ä¸‹è¯´æ˜ï¼š

![vitepressä¸­å…³äºvuepress-nextçš„ç®€ä»‹](../assets/vitepressä¸­å…³äºvuepress-nextçš„ç®€ä»‹.png)

æˆ‘ï¼šåœ°é“ã€è€äººã€æ‰‹æœº.jpg

å˜›ä¸è¿‡æ—¢ç„¶vuepressæœ‰é»˜è®¤åŸºäºvitejsçš„æ–°ç‰ˆæœ¬ï¼Œé‚£å½“ç„¶æ›´å¥½å•¦ã€‚

å¦‚æ­¤è¿™èˆ¬ï¼Œæˆ‘è¸ä¸Šäº†ä½¿ç”¨vuepress@nextæ­å»ºåšå®¢çš„æ—…ç¨‹ã€‚

---

## åœ¨åšå®¢ä¸­ä½¿ç”¨ tailwindcss æ„å»ºæ ·å¼

å…¶å®åœ¨ä¸­é€”æˆ‘è¿˜æ‰“ç®—æ›´æ¢åˆ° [windicss](https://windicss.org/) æ¥ç€ï¼Œä¸è¿‡æƒ³äº†æƒ³è¿˜æ˜¯ä½œç½¢äº†ï¼Œåé¢å¦‚æœæœ‰åšå…¶ä»–ç©å…·çš„è¯å†è¯•è¯•å§ã€‚

### ä»€ä¹ˆæ˜¯ tailwindcssï¼Ÿ

åœ¨å¼€å§‹ä¹‹å‰ï¼Œå…ˆç®€å•ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯ tailwindcssï¼ŒæŒ‰ç…§å®˜æ–¹æ–‡æ¡£ä¸Šçš„è¯´æ³•ï¼Œå®ƒæ˜¯è¿™æ ·çš„ï¼š

> A utility-first CSS framework packed with classes like flex, pt-4, text-center and rotate-90 that can be composed to build any design, directly in your markup.
> 
> -- æ¥è‡ª[å®˜æ–¹ç½‘ç«™é¦–é¡µ](https://tailwindcss.com/)

> Tailwind CSS works by scanning all of your HTML files, JavaScript components, and any other templates for class names, generating the corresponding styles and then writing them to a static CSS file.
>
> It's fast, flexible, and reliable â€” with zero-runtime.
> 
> -- æ¥è‡ª[å®˜æ–¹æ–‡æ¡£é¦–é¡µ](https://tailwindcss.com/docs/installation)

ä»å®˜æ–¹çš„è‡ªæˆ‘ä»‹ç»æ¥è¯´ï¼Œtailwindcss æ˜¯ä¸€ä¸ªæ ¹æ®æˆ‘ä»¬ä½¿ç”¨çš„ç±»åï¼Œæ‰¹é‡ç”Ÿæˆå¯¹åº”çš„åŸå­æ ·å¼ç±»çš„æ¡†æ¶ï¼ˆä»2.xç‰ˆæœ¬å¼€å§‹ï¼Œtailwindcssæä¾›JITæ¨¡å¼ï¼Œä»¥è¾¾åˆ°ä»¥ä¸Šç›®çš„ï¼Œå¹¶åœ¨3.xå¼€å§‹JITæ¨¡å¼æˆä¸ºé»˜è®¤æ¨¡å¼ã€‚åŒæ—¶è¿˜å®ç°äº†çš„æœ‰å¦ä¸€ä¸ªç‰¹æ€§â€”â€”æ’å€¼ï¼Œè¿™ä¸ªä»¥åå†è¯´ï¼‰ã€‚

### ä¸ºä»€ä¹ˆæ˜¯ tailwindcssï¼Ÿ

å¯¹äºæˆ‘è¿™ç§ä¸æƒ³æ‰‹å†™å„ç§styleçš„äººæ¥è¯´ï¼Œç›´æ¥ç»„åˆå„ç§æ ·å¼ç±»å®åœ¨æ˜¯ä¾¿åˆ©ã€‚

å°±åƒè¿™ä¸ªåšå®¢å³ä¸‹è§’çš„å…³äº`çŸ¥è¯†å…±äº«è®¸å¯åè®®ï¼ˆCreative Commons licenseï¼‰`çš„å£°æ˜ç»„ä»¶ï¼Œå®ƒçš„æ ·å¼æ˜¯è¿™æ ·çš„ï¼š

@[code{35-54} vue](../../theme/client/components/site-copyright.vue)

æ€»çš„æ¥è¯´ç”¨èµ·æ¥è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œé€šè¿‡å…¶å†…åµŒçš„ `tailwindcss/nesting` ä¹Ÿèƒ½æ–¹ä¾¿çš„å®ç°åµŒå¥—æ ·å¼ç±»ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œtailwindcss æ˜¯ä¸€ä¸ªå¾ˆä¾¿åˆ©çš„ CSS æ¡†æ¶ã€‚

### ä¸ºäº†æ¥å…¥ tailwindcssï¼Œæˆ‘åšäº†ä»€ä¹ˆï¼Ÿ

#### äº†è§£ vuepress çš„ç»„æˆ

æ‰€è°“ `å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ï¼ˆâ€”â€”ã€Šè®ºè¯­Â·é­çµå…¬ã€‹ï¼‰`ï¼Œæƒ³è¦åœ¨ä¸€ä¸ªç»è¿‡é«˜çº§æŠ½è±¡çš„æ¡†æ¶ä¸­è¿›è¡Œé…ç½®ä¿®æ”¹ï¼Œé¦–å…ˆå½“ç„¶è¦å…ˆäº†è§£å…¶åˆ°åº•æŠ½è±¡äº†äº›å•¥ã€‚

ç”±å‰ç½®æ¡ä»¶å¯çŸ¥ï¼Œvuepress åº•å±‚é»˜è®¤ä½¿ç”¨ `@vuepress/bundler-vite` ä½œä¸ºæ‰“åŒ…å·¥å…·ï¼Œå¯¹äº vitejs å¦‚ä½•æ¥å…¥ postcssâ€”â€”è¿™ç‚¹å®Œå…¨ä¸éœ€è¦æ‹…å¿ƒï¼Œvitejs å·²ç»é»˜è®¤é›†æˆäº† postcss ä½œä¸ºæ ·å¼é¢„å¤„ç†å™¨ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦æ¥å…¥åŸºäº postcss çš„ tailwindcss å³å¯ã€‚

é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬å¦‚ä½•å»ä¿®æ”¹ vuepress åº•å±‚çš„ vitejs çš„é…ç½®å‘¢ï¼Ÿ

åœ¨ vuepress@next çš„[å‚è€ƒ-é…ç½®](https://v2.vuepress.vuejs.org/zh/reference/config.html#bundler)é¡µé¢ä¸­ï¼Œå°±æœ‰ç›¸å…³çš„è¯´æ˜ï¼š

![vitejsæ–‡æ¡£ä¸­å¯¹äºpostcssé…ç½®çš„è¯´æ˜](../assets/vitejsæ–‡æ¡£ä¸­å¯¹äºpostcssé…ç½®çš„è¯´æ˜.png)

æ­¤å¤„æåˆ°äº†å¯¹äº postcss çš„é…ç½®çš„åŒ¹é…è§„åˆ™ï¼Œä»æœ€é«˜ä¼˜å…ˆçº§å¼€å§‹ï¼Œä¾æ¬¡æ˜¯ï¼š

1. viteOptions ä¸­ä¼ å…¥çš„å†…è”é…ç½®/è·¯å¾„å¯¹åº”çš„é…ç½®æ–‡ä»¶
2. [postcss-load-config](https://github.com/postcss/postcss-load-config) æ”¯æŒçš„é…ç½®æ–‡ä»¶

æ­¤å¤„å› ä¸ºæˆ‘ä»¬ä»¥ä¸€ä¸ªã€Œä¸»é¢˜ã€çš„å¼€å‘æ¨¡å¼æ¥è¿›è¡Œï¼Œä¸ºäº†è¾¾åˆ°ã€Œå¼€ç®±å³ç”¨ã€çš„ç›®çš„ï¼Œé€‰æ‹©ä½¿ç”¨å†…è”é…ç½®æ¥è¿›è¡Œè®¾å®šã€‚

#### ä¿®æ”¹ vitejs çš„é…ç½®

æ²¡æœ‰ä»€ä¹ˆå¥½è¯´çš„ï¼Œç›´æ¥ä¸Šä»£ç å§ï¼š

```ts
import { merge } from "lodash";
import { type Theme } from "vuepress";

import customSelectors from "postcss-custom-selectors";
import tailwindcss from "tailwindcss";
import tailwindcssNesting from "tailwindcss/nesting";
import autoprefixer from "autoprefixer";

export const chrockTheme = (() => ({
  name: "vuepress-theme-chrock",

  // ...
  extendsBundlerOptions(options) {
    merge(options, {
      viteOptions: {
        css: {
          postcss: {
            plugins: [
              tailwindcssNesting(),
              tailwindcss(),
              customSelectors(),
              autoprefixer(),
            ],
          },
        },
      } as UserConfigExport,
    });
  },
  // ...
})) as Theme;
```

ä¸ºäº†é¿å…è¦†ç›–æ‰ä¸»é¢˜ä½¿ç”¨è€…æˆ–å…¶ä»–æ’ä»¶ä¿®æ”¹çš„ vitejs é…ç½®ï¼Œæ­¤å¤„ä½¿ç”¨ `lodash/merge` æ¥è¿›è¡Œé…ç½®åˆå¹¶ã€‚

åœ¨æ·»åŠ å®Œé…ç½®åï¼Œè¿˜éœ€è¦å†æ·»åŠ ä¸€ä»½ tailwindcss çš„é…ç½®æ–‡ä»¶ã€‚
- è™½ç„¶ tailwindcss æ”¯æŒè¯»å…¥ `.ts` æ–‡ä»¶ï¼ˆå³ `tailwind.config.ts`ï¼‰ï¼Œä½†æ˜¯å› ä¸ºè¦ä½¿ vscode çš„æ’ä»¶ã€Œ[Tailwind CSS IntelliSense](https://marketplace.visualstudio.com/items?itemName=bradlc.vscode-tailwindcss)ã€èƒ½å¤Ÿè¯†åˆ«ï¼ˆå…¶åªè¯†åˆ« `/tailwind\.config\.c?js$/`ï¼‰ï¼Œæ­¤å¤„ä½¿ç”¨ `tailwind.config.js` ä½œä¸ºæ–‡ä»¶åã€‚
ä½¿ç”¨ `npx tailwindcss init` ç”Ÿæˆä¸€ä»½é»˜è®¤é…ç½®ï¼Œä½†ä¹Ÿå¯ä»¥ç›´æ¥æ‰‹åŠ¨åˆ›å»ºä¸€ä»½ `tailwind.config.js`ï¼š

```js {2}
/**
 * @type { import("tailwindcss/tailwind-config").TailwindConfig }
 */
const config = {
  content: [
    "./docs/**/*.{html,vue,js,ts,jsx,tsx}",
    "./theme/client/**/*.{html,vue,js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {},
  },
  plugins: [require("@tailwindcss/line-clamp")],
};

module.exports = config;
```

ä»¥ä¸Šæ˜¯æˆ‘ä¿®æ”¹å¥½çš„é…ç½®æ–‡ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ tailwindcss äº†ã€‚

---

## åœ¨è¿™è¿‡ç¨‹ä¸­é‡åˆ°çš„ä¸€äº›é—®é¢˜

### é‡åˆ°äº†ç¬¬ä¸€ä¸ªç ´åæ€§æ›´æ–°

æ•´ä¸ªåšå®¢çš„æ­å»ºè¿‡ç¨‹ï¼Œæ–­æ–­ç»­ç»­çš„å¤§æ¦‚èŠ±äº†æˆ‘ä¸¤ä¸‰ä¸ªç¤¼æ‹œçš„ä¸šä½™æ—¶é—´ã€‚

è¿™ä¸ªé¡¹ç›®å…¶å®åœ¨è›®æ—©ä¹‹å‰å°±å·²ç»åˆ›å»ºå¥½äº†ï¼Œä½†ç›´åˆ°å‰å‡ å¤©æ‰å¼€å§‹çœŸæ­£åŠ¨æ‰‹ã€‚å› ä¸ºåˆ›å»ºçš„æ—¶å€™ vuepress@next è¿˜ååˆ†æ—©æœŸï¼Œäºæ˜¯æˆ‘é¡ºæ‰‹æ›´æ–°äº†ä¸€ä¸‹ä¾èµ–ç‰ˆæœ¬ã€‚

æ¥ç€ï¼Œæˆ‘å°±é‡åˆ°äº†ç¬¬ä¸€ä¸ªç ´åæ€§æ›´æ–°â€”â€”`import("vuepress").App` é‡Œæ²¡æœ‰ bundlerOptions äº†ã€‚

åæ¥æˆ‘çœ‹äº†ä¸€ä¸‹æ–°çš„APIï¼Œé’ˆå¯¹bundlerOptionsçš„æ”¹åŠ¨å·²ç»ç§»åŠ¨åˆ°äº†å•ç‹¬çš„ `extendsBunderOptions` ç”Ÿå‘½å‘¨æœŸé’©å­é‡Œäº†ï¼ŒæŒºå¥½çš„ï¼ŒæŠŠè¿™ä¸ªé…ç½®è¿‡ç¨‹å•ç‹¬æŠ½è±¡äº†å‡ºæ¥ï¼Œèµ·ç èƒ½æ˜ç¡®é…ç½®ä¿®æ”¹çš„æ—¶æœºï¼Œä¹Ÿèƒ½åšä»£ç æ‹†åˆ†ï¼Œé™ä½å‡ ä¸ªä¸ç›¸å¹²çš„é€»è¾‘ä¹‹é—´äº§ç”Ÿè€¦åˆçš„å¯èƒ½æ€§åŠå¤æ‚åº¦ï¼Œé‚æ”¹ä¹‹ã€‚

### é‡åˆ°äº†ç¬¬äºŒä¸ªç ´åæ€§æ›´æ–°

åœ¨ä¸Šæ¬¡æ”¹åŠ¨ä¹‹åï¼Œåˆé—´éš”äº†å¤§æ¦‚ä¸€ä¸ªå¤šç¤¼æ‹œï¼Œæˆ‘æ‰åˆé‡æ–°å¼€å§‹å†™ï¼Œä½†æ˜¯åœ¨é‚£ä¹‹å‰ï¼Œæˆ‘åˆæ‰‹è´±çš„æ›´æ–°äº†ä¸€ä¸‹ä¾èµ–ç‰ˆæœ¬ã€‚

äºæ˜¯æˆ‘é‡åˆ°äº†ç¬¬äºŒä¸ªç ´åæ€§æ›´æ–°â€”â€”`defineClientAppEnhance` å’Œ `defineClientAppSetup` æ²¡äº†ï¼Œç°åœ¨ç»Ÿä¸€ä½¿ç”¨ `defineUserConfig`ï¼Œè¿™æ ·æ˜¯æŒºå¥½çš„ï¼Œåˆå¹¶äº†åŒè´¨æ–‡ä»¶ï¼Œé™ä½äº†é…ç½®çš„ç¢ç‰‡åŒ–ï¼Œé‚æ”¹ä¹‹ã€‚

### é‡åˆ°äº†ç¬¬ä¸‰ä¸ªç ´åæ€§æ›´æ–°

å…³äºè¿™ä¸ªç ´åæ€§æ›´æ–°ï¼Œä¸»è¦æ˜¯æ ·å¼æ–¹é¢çš„ã€‚

åœ¨ä¹‹å‰çš„ç‰ˆæœ¬é‡Œï¼Œä»£ç å—ç”Ÿæˆçš„ `line-numbers` ä¸­ä¼šå¸¦æœ‰è¡Œå·ï¼Œå› æ­¤åªéœ€è¦åœ¨æ ·å¼æ–‡ä»¶ä¸­ä¸ºå…¶è®¾ç½®æ ·å¼å³å¯ã€‚

ä½†æ˜¯åœ¨æŸä¸ªç‰ˆæœ¬é‡Œï¼Œè¡Œå·è¢«å–æ¶ˆäº†ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸ªç©ºæ ‡ç­¾ã€‚

å…·ä½“çš„æ”¹åŠ¨åœ¨æ­¤ [commit](https://github.com/vuepress/vuepress-next/pull/819) ä¸­ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

![vuepressä¸­å…³äºline-numbersçš„ç ´åæ€§æ›´æ–°](../assets/vuepress%E4%B8%AD%E5%85%B3%E4%BA%8Eline-numbers%E7%9A%84%E7%A0%B4%E5%9D%8F%E6%80%A7%E6%9B%B4%E6%96%B0.png)

å…³äºè¿™ä¸ªæ”¹åŠ¨â€¦â€¦æ€ä¹ˆè¯´å‘¢ï¼Œæˆ‘æŒä¿ç•™æ„è§ï¼Œè™½ç„¶å°±ç›®å‰æ¥è¯´æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å¦‚æœä¹‹åè¦å®ç°è¯¸å¦‚ã€Œå¯¼å…¥ä»£ç å—ã€ä¸”åªå¯¼å…¥éƒ¨åˆ†è¡Œçš„åœºæ™¯ä¸‹ï¼Œåœ¨ä»£ç è¡Œå·ä¸­æ˜¾ç¤ºå¯¹åº”çš„å¯¼å…¥è¡Œå·ã€çš„åŠŸèƒ½æ—¶ï¼Œä¹Ÿè®¸ä¼šæˆä¸ºé˜»ç¢ä¹Ÿä¸ä¸€å®šã€‚ä¸è¿‡è¿™åº”è¯¥ç®—æ˜¯å°éƒ¨åˆ†åœºæ™¯ï¼Œå¦‚æœæ¢åšæ˜¯æˆ‘åšè¿™ä¸ªåœºæ™¯çš„è¯ï¼Œæˆ‘åº”è¯¥ä¼šé€‰æ‹©å†™ä¸€ä¸ªæ–°çš„pluginsæ¥åšhackã€‚

ä½¿ç”¨è¢«å¹¿æ³›æ”¯æŒçš„ã€Œæ–°ç‰¹æ€§ã€ä¹ŸæŒºå¥½çš„ï¼Œæˆ‘å¯¹æ­¤çš„è¯„ä»·ç®—å¥½åå„åŠå§ğŸ™‚ï¸ã€‚äºæ˜¯ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘æ”¹åŠ¨äº†ä¸€ä¸‹å…³äºä»£ç å—çš„æ ·å¼ï¼š

``` css {15-20}
/* */
.content {
  & div[class*="language-"] {
    /* */
    & > .line-numbers,
    & > .shiki,
    & > .highlight-lines {
      @apply py-2;
    }

    & > .line-numbers {
      @apply px-4 text-right;
      @apply select-none;

      counter-reset: line-number;

      & .line-number::before {
        counter-increment: line-number;
        content: counter(line-number);
      }
    }
  }
}
```

ä½¿ç”¨ CSS3 counter API è§£å†³ä¹‹ã€‚

---

## å†™åœ¨æœ€å

ä»¥ä¸Šå¤§æ¦‚æ˜¯æˆ‘åœ¨åšè¿™ä¸ªåšå®¢æ—¶å‘ç”Ÿçš„ä¸€äº›äº‹ï¼Œæ²¡ä»€ä¹ˆå¤§é—®é¢˜ï¼Œæœ¬æ¥ä¹Ÿä¸æƒ³ä¸“é—¨å†™ä¸‹æ¥ï¼Œä¸è¿‡ä¸ºäº†æ°´ç‚¹å†…å®¹æ‰€ä»¥è¿˜æ˜¯å†™äº†ğŸ‰ã€‚

å¤§æ¦‚ä¹‹åæˆ‘è¿˜ä¼šå¯¹åšå®¢è¿›è¡Œä¸€äº›å¤§è°ƒæ•´ï¼Œæ¯”å¦‚è¯´å¯¹ã€Œåˆ†ç»„ã€çš„è°ƒæ•´â€”â€”ç›®å‰åˆ†ç»„æ˜¯é€šè¿‡ frontmatter ä¸­æ·»åŠ çš„ group å­—æ®µè¿›è¡Œçš„ï¼Œä½†è¿™ä¹ˆä¸€æ¥ group è·Ÿ tags å°±æ²¡ä»€ä¹ˆå·®åˆ«äº†ã€‚äºæ˜¯æˆ‘æƒ³æŠŠå®ƒæ”¹æˆæ ¹æ®è·¯å¾„è¿›è¡Œåˆ†ç±»ï¼Œè¿™æ ·ä¼šè®©æ–‡ç« åˆ†ç»„æœ‰æ›´æ·±çš„å±‚æ¬¡ï¼Œä¹Ÿè®¸ä¼šä¸ºé˜…è¯»ä½“éªŒå¸¦æ¥ä¸€ç‚¹è´Ÿé¢å½±å“ï¼Œæ€»ä¹‹å…ˆåšäº†å†çœ‹å§ã€‚
